import{S as L,i as C,s as D,l as y,g,e as w,c as O,a as k,d as c,b as q,f as u,K as E,n as v}from"../chunks/index-92fe9422.js";var b=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},M=typeof b=="object"&&b&&b.Object===Object&&b,x=M,P=x,R=typeof self=="object"&&self&&self.Object===Object&&self,B=P||R||Function("return this")(),I=B,N=I,U=N.Symbol,A=U,_=A,F=Object.prototype,V=F.hasOwnProperty,z=F.toString,s=_?_.toStringTag:void 0;function K(t){var a=V.call(t,s),r=t[s];try{t[s]=void 0;var e=!0}catch{}var n=z.call(t);return e&&(a?t[s]=r:delete t[s]),n}var H=K,J=Object.prototype,Q=J.toString;function W(t){return Q.call(t)}var X=W,p=A,Y=H,Z=X,ee="[object Null]",te="[object Undefined]",S=p?p.toStringTag:void 0;function ne(t){return t==null?t===void 0?te:ee:S&&S in Object(t)?Y(t):Z(t)}var re=ne;function ae(t){return t!=null&&typeof t=="object"}var oe=ae,ie=re,le=oe,se="[object Symbol]";function ce(t){return typeof t=="symbol"||le(t)&&ie(t)==se}var fe=ce,ue=fe;function be(t,a,r){for(var e=-1,n=t.length;++e<n;){var i=t[e],o=a(i);if(o!=null&&(l===void 0?o===o&&!ue(o):r(o,l)))var l=o,d=i}return d}var de=be;function ge(t,a){return t<a}var he=ge;function me(t){return t}var ye=me,ve=de,_e=he,pe=ye;function Se(t){return t&&t.length?ve(t,pe,_e):void 0}var je=Se;function j(t,a,r){const e=t.slice();e[8]=a[r];const n=Math.abs(e[8])*2;return e[9]=n,e}function T(t){let a,r=t[0],e=[];for(let n=0;n<r.length;n+=1)e[n]=$(j(t,r,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();a=y()},l(n){for(let i=0;i<e.length;i+=1)e[i].l(n);a=y()},m(n,i){for(let o=0;o<e.length;o+=1)e[o].m(n,i);g(n,a,i)},p(n,i){if(i&3){r=n[0];let o;for(o=0;o<r.length;o+=1){const l=j(n,r,o);e[o]?e[o].p(l,i):(e[o]=$(l),e[o].c(),e[o].m(a.parentNode,a))}for(;o<e.length;o+=1)e[o].d(1);e.length=r.length}},d(n){E(e,n),n&&c(a)}}}function $(t){let a,r=`${1/(t[8]/t[1])}%`,e=`hsl(${t[9]}, 50%, 50%)`;return{c(){a=w("div"),this.h()},l(n){a=O(n,"DIV",{class:!0}),k(a).forEach(c),this.h()},h(){q(a,"class","flex-1"),u(a,"height",r,!1),u(a,"background",e,!1)},m(n,i){g(n,a,i)},p(n,i){i&3&&r!==(r=`${1/(n[8]/n[1])}%`)&&u(a,"height",r,!1),i&1&&e!==(e=`hsl(${n[9]}, 50%, 50%)`)&&u(a,"background",e,!1)},d(n){n&&c(a)}}}function Te(t){let a,r=t[0]&&T(t);return{c(){a=w("div"),r&&r.c(),this.h()},l(e){a=O(e,"DIV",{class:!0});var n=k(a);r&&r.l(n),n.forEach(c),this.h()},h(){q(a,"class","flex items-end h-screen w-screen bg-gray-200")},m(e,n){g(e,a,n),r&&r.m(a,null)},p(e,[n]){e[0]?r?r.p(e,n):(r=T(e),r.c(),r.m(a,null)):r&&(r.d(1),r=null)},i:v,o:v,d(e){e&&c(a),r&&r.d()}}}function $e(t,a,r){let e,n,i,o,l=1;async function d(){const f=await navigator.mediaDevices.getUserMedia({audio:!0}),m=new AudioContext,G=m.createMediaStreamSource(f);e=m.createAnalyser(),e.fftSize=2048,G.connect(e),n=Math.floor(e.frequencyBinCount*.67),r(0,i=new Float32Array(n)),o=new Float32Array(e.frequencyBinCount),h()}function h(){var f;e.getFloatFrequencyData(o),r(0,i=o.slice(0,n)),r(1,l=(f=je(i))!=null?f:-70),requestAnimationFrame(h)}return d(),[i,l]}class Oe extends L{constructor(a){super(),C(this,a,$e,Te,D,{})}}export{Oe as default};
